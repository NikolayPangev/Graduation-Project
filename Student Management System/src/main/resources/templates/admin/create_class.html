<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="#{admin_nav_bar_create_classes}">Create Class</title>

    <!-- Custom fonts for this template -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/sb-admin-2.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body class="bg-gradient-primary">

<!-- Include the navbar fragment -->
<div th:replace="~{fragments/admin_navbar :: navbar}"></div>

<div class="container mt-5">
    <div class="card o-hidden border-0 shadow-lg my-5">
        <div class="card-body p-0">
            <div class="row">
                <div class="col-lg-2 d-none d-lg-block bg-create-class-image"></div>
                <div class="col-lg-8">
                    <div class="p-5">
                        <div class="text-center">
                            <h2 class="h4 text-gray-900 mb-4" th:text="#{admin_nav_bar_create_classes}">Create Class</h2>
                        </div>
                        <!-- Display success message if exists -->
                        <div class="alert alert-success" th:if="${successMessage}" th:text="${successMessage}"></div>

                        <form th:action="@{/admin/createClass}" th:object="${class}" th:method="POST">
                            <!-- Grade Selection -->
                            <div class="form-group">
                                <label for="grade" th:text="#{create_class_grade}">Grade</label>
                                <select id="grade" name="grade" class="form-control" required>
                                    <option value="" disabled selected th:text="#{create_class_select_grade}">Select Grade</option>
                                    <option th:value="1" th:text="'1'" th:selected="${class.grade == 1}">1</option>
                                    <option th:value="2" th:text="'2'" th:selected="${class.grade == 2}">2</option>
                                    <option th:value="3" th:text="'3'" th:selected="${class.grade == 3}">3</option>
                                    <option th:value="4" th:text="'4'" th:selected="${class.grade == 4}">4</option>
                                    <option th:value="5" th:text="'5'" th:selected="${class.grade == 5}">5</option>
                                    <option th:value="6" th:text="'6'" th:selected="${class.grade == 6}">6</option>
                                    <option th:value="7" th:text="'7'" th:selected="${class.grade == 7}">7</option>
                                    <option th:value="8" th:text="'8'" th:selected="${class.grade == 8}">8</option>
                                    <option th:value="9" th:text="'9'" th:selected="${class.grade == 9}">9</option>
                                    <option th:value="10" th:text="'10'" th:selected="${class.grade == 10}">10</option>
                                    <option th:value="11" th:text="'11'" th:selected="${class.grade == 11}">11</option>
                                    <option th:value="12" th:text="'12'" th:selected="${class.grade == 12}">12</option>
                                </select>
                                <div class="text-danger" th:if="${#fields.hasErrors('grade')}" th:errors="*{grade}"></div>
                            </div>

                            <!-- Section Selection -->
                            <div class="form-group">
                                <label for="section" th:text="#{create_class_section}">Section</label>
                                <select id="section" name="section" class="form-control" required>
                                    <option value="" disabled selected th:text="#{create_class_select_section}">Select Section</option>
                                    <option th:value="'A'" th:text="'A'" th:selected="${class.section == 'A'}">A</option>
                                    <option th:value="'B'" th:text="'B'" th:selected="${class.section == 'B'}">B</option>
                                    <option th:value="'C'" th:text="'C'" th:selected="${class.section == 'C'}">C</option>
                                    <option th:value="'D'" th:text="'D'" th:selected="${class.section == 'D'}">D</option>
                                </select>
                                <div class="text-danger" th:if="${#fields.hasErrors('section')}" th:errors="*{section}"></div>
                            </div>

                            <!-- Display a general error message for the whole form -->
                            <div class="text-danger" th:if="${#fields.hasGlobalErrors()}" th:errors="*{error}"></div>

                            <!-- Submit Button -->
                            <button type="submit" class="btn btn-primary btn-user btn-block" th:text="#{admin_nav_bar_create_classes}">Create Class</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
<script src="/js/sb-admin-2.min.js"></script>
</body>

</html>
